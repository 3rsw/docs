<!DOCTYPE html>
<!-- Page last generated 2018-03-23 17:20:14 +1100 -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>seL4 Driver API Persistent Device Naming Scheme | seL4 docs</title>

    <!-- Our stylesheet and theme stylesheet.  Contains bootstrap. -->
    <link rel="stylesheet" href="/docs/assets/css/style.css" type="text/css">
    <!-- Font awesome -->
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
    <!-- Pygments syntax highlighting  -->
    <link rel="stylesheet" href="/docs/assets/css/highlighting/trac.css" type="text/css">

  </head>

  <body class="container">

    

<header>
  <ul class="row menu">
    <li class="col-xs-12 col-md-2" >
            <a href="/docs/">
              <img class="img-responsive" src="/docs/logos/logo-text-white.svg" alt="seL4 logo" />
            </a>
    </li>
    <li class="col-xs-12 col-md-10 menu">
      <nav aria-label="Banner links">
        <h2><a href="/docs/Documentation">Documentation</a></h2>
        <h2><a href="/docs/Getting_started">Getting Started</a></h2>
        <h2><a href="/docs/Tutorials">Tutorials</a></h2>
        <h2><a href="https://research.csiro.au/tsblog">Blog</a></h2>
      </nav>
    </li>
  </ul>
  <div class="clear"></div>
  <div class="breadcrumbs bootstrap hidden-sm-down">
  <nav class="sel-breadcrumb" aria-label="Breadcrumb" >
    <ol class=" list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">
      
      
        

        

        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="/docs/">
              <span property="name"><b>seL4 Docs</b></span>
              <meta property="position" content="1" />
            </a>
        </li>
      
        

        
          <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <span property="name">seL4 Driver API Persistent Device Naming Scheme</span>
            <meta property="position" content="2" /></li>
          
    </ol>
  </nav>
  <nav class="sel-version" aria-label="Current Versions">
    <ol class="list-unstyled">
      <li class="list-unstyled text-right" style="margin-left:auto; padding:0rem 0rem;">
        Current versions:</li>
      <li class="list-unstyled text-right">
      <a href="/docs/sel4_release/seL4_8.0.0/"><b>seL4-8.0.0</b></a></li>
      <li class="list-unstyled text-right">
      <a href="/docs/sel4_release/seL4_5.2.0-mcs/"><b>seL4-5.2.0-mcs</b></a></li>
      <li class="list-unstyled text-right">
      <a href="/docs/camkes_release/CAmkES_3.2.0/"><b>camkes-3.2.0</b></a></li>
    </ol>
  </nav>
  <div class='clear'></div>
</div>


</header>

    <main>
      
  <nav aria-label="Table of Contents">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#sel4-driver-api-persistent-device-naming-scheme">seL4 Driver API Persistent Device Naming Scheme</a>
<ul>
<li class="toc-entry toc-h2"><a href="#constants">Constants</a></li>
<li class="toc-entry toc-h2"><a href="#functions">Functions</a></li>
<li class="toc-entry toc-h2"><a href="#data-structures">Data structures</a></li>
<li class="toc-entry toc-h2"><a href="#description">Description</a></li>
</ul>
</li>
</ul>
  </nav>


<div class="content">
  <h1 id="sel4-driver-api-persistent-device-naming-scheme">seL4 Driver API Persistent Device Naming Scheme</h1>

<p>Recommended prior reading for this page is the seL4 Driver API’s
<a href="/docs/seL4_Driver_API/Child_Enumeration#addressing-names">location-based device addressing scheme</a>.</p>

<h2 id="constants">Constants</h2>

<h2 id="functions">Functions</h2>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">seL4drv_connection_t</span> <span class="o">*</span><span class="n">seL4drv_external_connect</span><span class="p">();</span>
</code></pre></div></div>
<h2 id="data-structures">Data structures</h2>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="kt">void</span> <span class="n">seL4drv_connection_t</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="description">Description</h2>

<p>The seL4 Driver API requires the use of a persistent naming scheme which
forms the basis of the IPC connection system between device instances.
It is through this naming scheme that a device instance can call to its
parent devices, and communicate with devices with which it has lateral
dependencies.</p>

<p>Devices’ addressable names are generated by the parent driver that
enumerates them. Child device enumeration is discussed in detail in the
<a href="/docs/seL4_Driver_API/Child_Enumeration#addressing-names">Child Enumeration</a> article.</p>

<p>A driver connects to an external device that it depends on by calling
<code class="highlighter-rouge">seL4drv_external_connect()</code>, passing in the addressable name of the
particular device that it wishes to connect to. The environment shall
search its device tree for a device which has that name, and return a
handle of type <code class="highlighter-rouge">seL4drv_connection_t *</code>. Notice that
<code class="highlighter-rouge">seL4drv_connection_t</code> is of type <code class="highlighter-rouge">void</code> (see <a href="#data-structures">above</a>):
this is because it is an opaque handle, and the
driver is not meant to dereference this handle after receiving it. This
handle is meant to be passed to subsequent function calls to the
particular API that was connected to in order to maintain context
between the driver and the target device.</p>

<p>If the environment is unable to locate a device whose addressable name
matches the one supplied in the call to <code class="highlighter-rouge">seL4drv_external_connect()</code>, it
shall return <strong>NULL</strong>. The calling driver shall take this to mean that
the device is trying to connect to does not exist, or that it exists but
the environment does not have a driver that can drive it, and so is
unusable.</p>

</div>

    </main>
    

<footer class="site-footer">

  <h2 class="footer-heading">seL4 docs</h2>

  <div class="footer-col-wrapper">

    <div class="col-md-2">
      

<ul class="social-media-list">
  <li><a href="https://github.com/sel4"><i class="fab fa-github"></i> <span class="username">sel4</span></a></li><li><a href="https://github.com/sel4proj"><i class="fab fa-github"></i> <span class="username">sel4proj</span></a></li>
</ul>

    </div>

    <div class="col-md-8">
      <ul class="list-unstyled">
        <li>
          This site is for displaying seL4 related documentation.  Pull requests are welcome.
        </li>
        
      </ul>
    </div>
    <div class="col-md-2">
      <a href="/docs/sitemap">Sitemap</a>
    </div>

  </div>

</footer>
  </body>
</html>
